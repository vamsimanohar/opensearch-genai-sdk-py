## OTEL Collector — prints all received spans to stdout
##
## Supports both protocols:
##   HTTP → localhost:4318
##   gRPC → localhost:4317
##
## Usage:
##   docker compose up
##
##   # Terminal 2 — test HTTP
##   python examples/agent_http.py
##
##   # Terminal 2 — test gRPC
##   python examples/agent_grpc.py

services:
  otel-collector:
    image: otel/opentelemetry-collector-contrib:latest
    command: ["--config", "/etc/otel/config.yaml"]
    volumes:
      - ./otel-collector-config.yaml:/etc/otel/config.yaml:ro
    ports:
      - "4317:4317"   # OTLP gRPC
      - "4318:4318"   # OTLP HTTP
